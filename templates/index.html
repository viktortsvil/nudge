<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notifications</title>
    <script>
        function handleNotificationClick(notification, id_) {
            const notificationDiv = document.getElementById(`notification-${id_}`);
            notificationDiv.style.pointerEvents = 'none';  // Disable further clicks
            fetch('/create_suggestion', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ notification: notification })
            })
            .then(response => response.json())
            .then(data => {
                console.log(data.message);
                notificationDiv.remove();  // Remove the original notification

                // Create a new notification with the 'notification-second' class
                const newNotificationDiv = document.createElement('div');
                newNotificationDiv.className = 'notification-second';
                newNotificationDiv.innerHTML = `<p>${data.message}</p>`;

                // Append the new notification to the 'notification2-container'
                document.getElementById('notification2-container').appendChild(newNotificationDiv);
            })
            .catch(error => console.error('Error:', error));
        }
    </script>
    <style>
        .notification {
            color: blue;
            text-decoration: underline;
            cursor: pointer;
        }
        .notification-second {
            color: black;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="notifications-container">
        <div id="notification1-container">
            {% if notifs|length > 0 %}
                <div id="notification-0" class="notification" onclick="handleNotificationClick('{{ notifs[0] }}', 0)">
                    <p>{{ notifs[0] }}</p>
                </div>
            {% endif %}
        </div>
        <div id="notification2-container">
            {% if notifs|length > 1 %}
                <div id="notification-1" class="notification-second" onclick="handleNotificationClick('{{ notifs[1] }}', 1)">
                    <p>{{ notifs[1] }}</p>
                </div>
            {% endif %}
        </div>
    </div>
</body>
</html>